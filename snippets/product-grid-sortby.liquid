<ul class="popover-list popover-list-sortby">
  {%- for option in collection.sort_options -%}
    {% assign sort_active = false %}
    {% if collection.sort_by == blank and collection.default_sort_by == option.value %}
      {% assign sort_active = true %}
    {% elsif collection.sort_by == option.value %}
      {% assign sort_active = true %}
    {% endif %}

    {% assign item_class = 'popover-list-item' %}
    {% if sort_active %}
      {% assign item_class = item_class | append: ' popover-list-item-active' %}
    {%- endif -%}

    <li class="{{ item_class }}">
      <button
        class="{{ button_class }}"
        value="{{ option.value }}"
        data-collection-sortby
        {% if sort_active %}
          disabled
        {% endif %}
        aria-label="{{- option.name -}}"
      >
        {{- item_icon -}}

        <span class="popover-list-item-text">
          {{- option.name -}}
        </span>
      </button>
    </li>
  {%- endfor -%}
</ul>
